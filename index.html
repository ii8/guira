<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
  <title>Try Guira</title>
  <style>
body {
  background-color: #F2A2D9;
}

#main {
  width: 60%;
  margin: auto;
  margin-top: 100px;
}

h1 {
  text-align: center;
  margin-bottom: 50px;
}

input {
  width: 100%;
  height: 40px;
  background-color: transparent;
  outline: none;
  border: none;
  border-bottom: 2px solid black;
  font-size: 30px;
  font-family: "Lucida Console", Monaco, monospace;
  box-shadow: 0 10px 10px -10px #000;
  margin-bottom: 40px;
  text-align: center;
}

#list {
  text-align: center;
  list-style-type: none;
  font-family: "Lucida Console", Monaco, monospace;
  padding: 0;
}

  </style>
  <script>
var w = new Worker("worker.js");

function add_item(i)
{
  var ul = document.getElementById("list");
  var li = document.createElement("li");

  li.appendChild(document.createTextNode(i.data));
  ul.appendChild(li);
}

function run(selector)
{
  var ul = document.getElementById("list");

  w.terminate();
  w = new Worker("worker.js");
  w.onmessage = add_item;

  while (ul.hasChildNodes()) {
    ul.removeChild(ul.lastChild);
  }

  w.postMessage(selector);
}
  </script>
  </head>
  <body>
    <div id=main>
      <h1>グイラ</h1>
      <input type=text oninput="run(this.value)" autofocus>
      <ul id=list>
      </ul>
    </div>
  </body>
</html>
